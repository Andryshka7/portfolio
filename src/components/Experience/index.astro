---
// Experience component with visual timeline roadmap design
import { Briefcase, Building2, Users, Code } from '@lucide/astro'

enum ThemeEnum {
    GREEN = 'green',
    BLUE = 'blue',
    PURPLE = 'purple',
    GRAY = 'gray'
}

const EXPERIENCE = [
    {
        name: 'Freelance Full-stack Developer',
        description:
            'Building modern e-commerce platforms and high-converting landing pages for diverse clients.',
        icon: Briefcase,
        year: 'Aug 2025 - Present',
        company: 'Independent',
        duration: 'Current',
        skills: ['React/Next.js', 'E-commerce', 'Trading solutions', 'Payment Integration'],
        theme: ThemeEnum.GREEN
    },

    {
        name: 'Full-stack Developer',
        description:
            'Built high-performance crypto trading platform with real-time data processing and scalable architecture.',
        icon: Code,
        year: 'Nov 2024 - Aug 2025',
        company: 'Cryptonit',
        duration: '8 months',
        skills: ['React/TypeScript', 'Node.js/NestJS', 'Redis/WebSockets', 'PostgreSQL'],
        theme: ThemeEnum.BLUE
    },

    {
        name: 'Lead Frontend Developer',
        description:
            'Led team of 3 developers building trading interfaces with advanced charting and 40% UX improvement.',
        icon: Users,
        year: 'Jul 2024 - Dec 2024',
        company: 'Cryptonit',
        duration: '6 months',
        skills: ['TradingView Charts', 'Real-time UI', 'UX Optimization'],
        theme: ThemeEnum.PURPLE
    },

    {
        name: 'Freelance Developer',
        description:
            'Delivered 5+ custom web applications for SMBs including e-commerce stores and business tools.',
        icon: Building2,
        year: 'Nov 2023 - Jul 2024',
        company: 'Independent',
        duration: '8 months',
        skills: ['E-commerce', 'Payment Systems', 'Business Tools', 'Landing Pages'],
        theme: ThemeEnum.GRAY
    }
]

// Color theme mapping
const THEMES = {
    [ThemeEnum.GREEN]: {
        dot: 'bg-green-500',
        border: 'border-green-500/30',
        gradient: 'from-green-900/20 to-gray-800/40',
        hoverBorder: 'hover:border-green-400/50',
        hoverShadow: 'hover:shadow-green-500/10',
        icon: 'text-green-400',
        badge: 'bg-green-500/20 text-green-400',
        skill: 'bg-green-500/20 text-green-300'
    },

    [ThemeEnum.BLUE]: {
        dot: 'bg-blue-500',
        border: 'border-blue-500/30',
        gradient: 'from-blue-900/20 to-gray-800/40',
        hoverBorder: 'hover:border-blue-400/50',
        hoverShadow: 'hover:shadow-blue-500/10',
        icon: 'text-blue-400',
        badge: 'bg-blue-500/20 text-blue-400',
        skill: 'bg-blue-500/20 text-blue-300'
    },

    [ThemeEnum.PURPLE]: {
        dot: 'bg-purple-500',
        border: 'border-purple-500/30',
        gradient: 'from-purple-900/20 to-gray-800/40',
        hoverBorder: 'hover:border-purple-400/50',
        hoverShadow: 'hover:shadow-purple-500/10',
        icon: 'text-purple-400',
        badge: 'bg-purple-500/20 text-purple-400',
        skill: 'bg-purple-500/20 text-purple-300'
    },
    [ThemeEnum.GRAY]: {
        dot: 'bg-gray-500',
        border: 'border-gray-500/30',
        gradient: 'from-gray-900/20 to-gray-800/40',
        hoverBorder: 'hover:border-gray-400/50',
        hoverShadow: 'hover:shadow-gray-500/10',
        icon: 'text-gray-400',
        badge: 'bg-gray-500/20 text-gray-400',
        skill: 'bg-gray-500/20 text-gray-300'
    }
}
---

<section id='experience' class='bg-gray-900 py-20'>
    <div class='max-w-8xl mx-auto px-4 sm:px-6 lg:px-8'>
        <h2 class='mb-16 text-center text-3xl font-bold text-white'>Professional Journey</h2>

        <!-- Timeline Container -->
        <div class='relative'>
            <!-- Timeline Line -->
            <div
                class='xs:-ml-6 absolute top-0 left-8 -ml-8 h-full w-0.5 bg-gradient-to-b from-green-500 via-purple-500 to-gray-500 md:left-1/2 md:ml-0 md:-translate-x-0.5'
            >
            </div>

            <div class='-ml-8 space-y-[1rem] md:ml-0 lg:space-y-[-1.5rem]'>
                {
                    EXPERIENCE.map((item, index) => {
                        const theme = THEMES[item.theme]

                        const isEven = index % 2 === 0

                        return (
                            <div
                                class={`relative flex items-center ${!isEven ? 'justify-end' : ''}`}
                            >
                                <div
                                    class={`xs:left-8 absolute left-6 z-10 h-4 w-4 rounded-full border-4 border-gray-900 ${theme.dot} md:left-1/2 md:-translate-x-2`}
                                />

                                <div
                                    class={`xs:ml-14 ml-12 w-full rounded-xl border ${theme.border} bg-gradient-to-r ${theme.gradient} p-5 shadow-lg transition-all duration-300 ${theme.hoverBorder} ${theme.hoverShadow} md:ml-0 md:w-5/12 ${
                                        isEven ? 'md:pr-16' : 'md:ml-auto md:pl-16'
                                    }`}
                                >
                                    <div class='mb-3 flex items-center justify-between'>
                                        <div class='flex items-center gap-3'>
                                            <item.icon class={`h-5 w-5 ${theme.icon}`} />
                                            <h3 class='text-lg font-bold text-white'>
                                                {item.name}
                                            </h3>
                                        </div>
                                        <span
                                            class={`flex-shrink-0 rounded-full ${theme.badge} px-3 py-1 text-xs font-medium`}
                                        >
                                            {item.duration}
                                        </span>
                                    </div>
                                    <p class='mb-2 text-sm text-gray-400'>
                                        {item.company} â€¢ {item.year}
                                    </p>
                                    <p class='mb-3 text-sm text-gray-300'>{item.description}</p>
                                    <div class='flex flex-wrap gap-1.5'>
                                        {item.skills.map((skill) => (
                                            <span
                                                class={`rounded-md ${theme.skill} px-2 py-1 text-xs`}
                                            >
                                                {skill}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )
                    })
                }
            </div>
        </div>
    </div>
</section>
